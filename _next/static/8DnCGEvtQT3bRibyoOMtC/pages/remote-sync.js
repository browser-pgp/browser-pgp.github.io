(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{CDKq:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/remote-sync",function(){return n("IwBV")}])},IwBV:function(e,t,n){"use strict";n.r(t),n.d(t,"Config",(function(){return $}));var r,a=n("q1tI"),o=n.n(a),i=n("uxHW"),c=n("eD//"),s=n("tVbE"),u=n("30+C"),f=n("50B7"),l=n("oa/T"),d=n("tRbT"),p=n("r9w1"),h=n("KJax"),m=n("ZGBi"),b=n("UhlP"),v=n("NrVZ"),y=n("Z3vd"),g=n("MHX4"),_=n("o0o1"),w=n.n(_),O=n("KQm4"),P=n("rePB"),j=n("ODXe"),k=n("zP5H");!function(e){e[e.NoConfig=0]="NoConfig",e[e.Ready=1]="Ready",e[e.Error=2]="Error",e[e.Pending=3]="Pending",e[e.Finished=4]="Finished",e[e.CheckConfig=5]="CheckConfig",e[e.NoPassword=6]="NoPassword",e[e.WrongConfig=7]="WrongConfig"}(r||(r={}));var C={get rememberPassword(){return"1"===localStorage.getItem("rememberSyncPassword")},set rememberPassword(e){localStorage.setItem("rememberSyncPassword",e?"1":"0")},get savedConfig(){var e=localStorage.getItem("syncConfig")||"{}";return JSON.parse(e)},set savedConfig(e){localStorage.setItem("syncConfig",JSON.stringify(e))}},S=Object(k.a)((function(){var e=Object(a.useMemo)((function(){var e=C.rememberPassword,t=C.savedConfig,n=r.NoConfig;return t.remote&&(n=r.Ready),t.password||(n=r.NoPassword),{rememberPassword:e,savedConfig:t,status:n}}),[]),t=e.rememberPassword,n=e.savedConfig,o=e.status;return Object(a.useState)({status:o,pending:!1,rememberPassword:t,savedConfig:n,sync:null})})),x=n("XFFy"),q=n("HXb3"),E=n("EHhu");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(P.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("p9ch").default.plugin(n("ezGW"));var R,N=function(){var e=S.useContainer(),t=Object(j.a)(e,2),n=t[0],a=t[1],o=Object(q.useSnackbar)().enqueueSnackbar,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";n.rememberPassword&&(r=e.password),C.savedConfig=A({},e,{password:r}),t||o("\u4fdd\u5b58\u8fdc\u7a0b\u540c\u6b65\u8bbe\u7f6e\u6210\u529f")},c=function(e,t){return function(r){var o;return w.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.pending){i.next=2;break}return i.abrupt("return");case 2:return i.abrupt("return",(o=Promise.resolve(a((function(e){return A({},e,{pending:!0})}))).then((function(){return t(r)}))).then.apply(o,Object(O.a)(e)).finally((function(){a((function(e){return A({},e,{pending:!1})}))})));case 3:case"end":return i.stop()}}),null,null,null,Promise)}},s=function(e){return Promise.resolve().then((function(){var t=new URL(e.remote);return t.username=e.username,t.password=e.password,t.toString()})).catch((function(){throw new x.a("\u94fe\u63a5\u683c\u5f0f\u4e0d\u5bf9")}))},u=function(e){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){var t,n,o,c;return w.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return i(e,!0),a((function(e){return A({},e,{status:r.CheckConfig})})),t=e.username+":"+e.password,n=btoa(unescape(encodeURIComponent(t))),s.next=6,w.a.awrap(fetch(e.remote,{credentials:"include",headers:{Authorization:"Basic "+n}}).catch((function(e){throw new x.a("\u8fdc\u7a0b\u5730\u5740\u8fde\u63a5\u5931\u8d25")})));case 6:if(401!==(o=s.sent).status){s.next=9;break}throw new x.a("\u8ba4\u8bc1\u5931\u8d25");case 9:return s.next=11,w.a.awrap(o.json().catch((function(){throw new x.a("\u4e0d\u517c\u5bb9\u7684\u8fdc\u7a0b\u5730\u5740")})));case 11:if(c=s.sent,200===o.status){s.next=14;break}throw new x.a(c.reason||"\u72b6\u6001\u7801\u9884\u671f: 200, \u5b9e\u9645: ".concat(o.status));case 14:if("string"===typeof c.db_name){s.next=16;break}throw new x.a("\u627e\u4e0d\u5230\u6570\u636e\u5e93");case 16:a((function(e){return A({},e,{status:r.Ready})}));case 17:case"end":return s.stop()}}),null,null,null,Promise)})).catch((function(e){throw a((function(e){return A({},e,{status:r.WrongConfig})})),e})));case 1:case"end":return t.stop()}}),null,null,null,Promise)};return{state:n,setState:a,setRememberPassword:function(e){a((function(t){return A({},t,{rememberPassword:e})})),C.rememberPassword=e},saveConfig:i,checkConfig:c(Object(x.c)("\u68c0\u67e5\u8fdc\u7a0b\u5730\u5740\u8fde\u63a5"),u),startSync:c(Object(x.c)("\u8fdc\u7a0b\u540c\u6b65"),(function(e){var t,n;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,w.a.awrap(u(e));case 2:return o.next=4,w.a.awrap(s(e));case 4:return t=o.sent,a((function(e){return A({},e,{status:r.Pending})})),a((function(e){return A({},e,{sync:null})})),n=E.b.users.sync({remote:t,waitForLeadership:!1,options:{live:!1}}),a((function(e){return A({},e,{sync:n})})),o.next=11,w.a.awrap(new Promise((function(e,t){var r=0;n.complete$.subscribe((function(){2===++r&&e()})),n.error$.subscribe((function(e){return t(e)}))})));case 11:a((function(e){return A({},e,{status:r.Ready})}));case 12:case"end":return o.stop()}}),null,null,null,Promise)})),stopSync:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(n.sync.cancel());case 2:a((function(e){return A({},e,{status:r.Ready})}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}}},D=o.a.createElement;!function(e){e.SaveConfig="/sync/save-config",e.CheckConfig="/sync/check-config",e.StartSync="/sync/start-sync"}(R||(R={}));var I=function(){var e=N(),t=e.state,n=e.checkConfig,r=e.saveConfig,a=e.startSync,o=e.setRememberPassword,i=Object(g.b)({defaultValues:t.savedConfig}),c=i.register,s=i.handleSubmit;return D("form",{style:{width:"100%"},action:R.CheckConfig,onSubmit:s((function(e){switch(document.activeElement.getAttribute("formAction")){case R.SaveConfig:return r(e);case R.CheckConfig:return n(e);case R.StartSync:return a(e)}}))},D(d.a,{container:!0,direction:"column",spacing:2},D(d.a,{item:!0},D(p.a,{variant:"outlined",label:"CouchDB \u8bbf\u95ee\u5730\u5740",placeholder:"https://example.com",type:"url",helperText:"\u8bb0\u5f97\u628a\u5f53\u524d\u7ad9\u70b9\u52a0\u5230 cors \u540d\u5355\u4e2d, \u5426\u5219\u4f1a\u51fa\u73b0\u8de8\u57df\u95ee\u9898\u65e0\u6cd5\u540c\u6b65",multiline:!0,rowsMax:3,fullWidth:!0,required:!0,disabled:t.pending,name:"remote",inputRef:c})),D(d.a,{item:!0},D(p.a,{variant:"outlined",label:"\u5e10\u53f7",fullWidth:!0,required:!0,disabled:t.pending,name:"username",inputRef:c})),D(d.a,{item:!0},D(p.a,{variant:"outlined",label:"\u5bc6\u7801",type:"password",fullWidth:!0,required:t.rememberPassword,disabled:t.pending,name:"password",inputRef:c}),D(h.a,{row:!0},D(m.a,{control:D(b.a,{color:"primary",checked:t.rememberPassword,disabled:t.pending,onChange:function(e,t){return o(t)}}),label:"\u8bb0\u4f4f\u5bc6\u7801"}))),D(d.a,{item:!0},D(v.a,{size:"large",color:"primary",disabled:t.pending},D(y.a,{type:"submit",formAction:R.SaveConfig},"\u4fdd\u5b58"),D(y.a,{type:"submit",formAction:R.CheckConfig},"\u68c0\u67e5\u8fde\u63a5"),D(y.a,{type:"submit",formAction:R.StartSync},"\u5f00\u59cb\u540c\u6b65")))))},J=n("csfp"),U=n("PsDL"),B=n("IsqK"),z=n("TjOe"),W=n("xSPK"),G=n.n(W),M=n("ax+9"),L=n.n(M),F=o.a.createElement,H=function(){var e="";switch(N().state.status){case r.CheckConfig:e="\u68c0\u67e5\u914d\u7f6e\u4e2d";break;case r.WrongConfig:e="\u7b49\u5f85\u6709\u6548\u914d\u7f6e\u4e2d";break;case r.Ready:e="\u51c6\u5907\u5c31\u7eea";break;case r.NoPassword:e="\u7b49\u5f85\u8f93\u5165\u5bc6\u7801\u4e2d";break;case r.Pending:e="\u540c\u6b65\u4e2d";break;case r.Finished:e="\u540c\u6b65\u5b8c\u6210"}return F(a.Fragment,null,e)},K=function(){var e=N(),t=e.state,n=t.status,a=t.savedConfig,o=e.startSync,i=e.stopSync;switch(n){default:var c=n!==r.Ready;return F(J.a,{title:"\u5f00\u59cb\u540c\u6b65"},F("span",null,F(U.a,{color:"primary",disabled:c,onClick:function(){return o(a)}},F(G.a,null))));case r.Pending:return F(U.a,{color:"primary",onClick:function(){return i()}},F(L.a,null))}},X=function(){return F(s.a,null,F(B.a,{secondary:F(H,null)},"\u8fde\u63a5\u72b6\u6001"),F(z.a,null,F(K,null)))},V=o.a.createElement,$=function(){return V(c.a,null,V(X,null),V(s.a,null,V(I,null)))};t.default=function(){return V(S.Provider,null,V(i.a,{title:"\u8fdc\u7a0b\u540c\u6b65",inContainer:!0},V(u.a,null,V(f.a,{title:"\u8fdc\u7a0b\u540c\u6b65\u8bbe\u7f6e",subheader:""}),V(l.a,{style:{paddingTop:0}},V(d.a,{container:!0,spacing:2},V(d.a,{item:!0,lg:8,md:8,xl:8,xs:12},V($,null)))))))}},"ax+9":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M6 6h12v12H6z"}),"Stop");t.default=o},"dBN+":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var r="undefined"!==typeof AbortController?AbortController:function(){return{abort:function(){}}},a=fetch,o=Headers},ezGW:function(e,t,n){"use strict";n.r(t),function(e){var r=n("3Y9A"),a=n.n(r),o=n("dBN+"),i=n("/xTr"),c=n("DL4p"),s=n("D4bv");var u=25,f=50,l=5e3,d=1e4,p={};function h(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=Object(s.b)(t.data,t.content_type)}))}function m(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function b(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!==typeof n.data)return new Promise((function(e){Object(s.e)(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function v(e,t){if(function(e){if(!e.prefix)return!1;var t=Object(c.s)(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=Object(c.s)(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var a=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=a.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=a.join("/"),r}function y(e,t){return g(e,e.db+"/"+t)}function g(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function _(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function w(e,t){var n=this,r=v(e.name,e),w=y(r,"");e=Object(c.e)(e);var O,P=function(t,n){if((n=n||{}).headers=n.headers||new o.b,n.credentials="include",e.auth||r.auth){var a=e.auth||r.auth,i=a.username+":"+a.password,c=Object(s.g)(unescape(encodeURIComponent(i)));n.headers.set("Authorization","Basic "+c)}var u=e.headers||{};return Object.keys(u).forEach((function(e){n.headers.append(e,u[e])})),function(e){var t="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),a=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||r||a)&&o}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||o.c)(t,n)};function j(e,t){return Object(c.a)(e,a()((function(e){C().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(n)}function k(e,t,n){var r={};return(t=t||{}).headers=t.headers||new o.b,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),P(e,t).then((function(e){return r.ok=e.ok,r.status=e.status,e.json()})).then((function(e){if(r.data=e,!r.ok){r.data.status=r.status;var t=Object(i.q)(r.data);if(n)return n(t);throw t}if(Array.isArray(r.data)&&(r.data=r.data.map((function(e){return e.error||e.missing?Object(i.q)(e):e}))),!n)return r;n(null,r.data)}))}function C(){return e.skip_setup?Promise.resolve():O||((O=k(w).catch((function(e){return e&&e.status&&404===e.status?(Object(c.g)(404,"PouchDB is just detecting if the remote exists."),k(w,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){O=null})),O)}function S(e){return e.split("/").map(encodeURIComponent).join("/")}Object(c.o)((function(){t(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=j("id",(function(e){P(g(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:y(r,"");e(null,n)}))})),n.compact=j("compact",(function(e,t){"function"===typeof e&&(t=e,e={}),e=Object(c.e)(e),k(y(r,"_compact"),{method:"POST"}).then((function(){!function r(){n.info((function(n,a){a&&!a.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)}))}()}))})),n.bulkGet=Object(c.a)("bulkGet",(function(e,t){var n=this;function a(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),k(y(r,"_bulk_get"+_(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(h)})),t(null,n.data)})).catch(t)}function o(){var r=f,a=Math.ceil(e.docs.length/r),o=0,i=new Array(a);function s(e){return function(n,r){i[e]=r.results,++o===a&&t(null,{results:Object(c.i)(i)})}}for(var u=0;u<a;u++){var l=Object(c.t)(e,["revs","attachments","binary","latest"]);l.docs=e.docs.slice(u*r,Math.min(e.docs.length,(u+1)*r)),Object(c.c)(n,l,s(u))}}var i=g(r,""),s=p[i];"boolean"!==typeof s?a((function(e,n){e?(p[i]=!1,Object(c.g)(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(p[i]=!0,t(null,n))})):s?a(t):o()})),n._info=function(e){C().then((function(){return P(y(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=y(r,""),e(null,t)})).catch(e)},n.fetch=function(e,t){return C().then((function(){var n="/"===e.substring(0,1)?g(r,e.substring(1)):y(r,e);return P(n,t)}))},n.get=j("get",(function(e,t,n){"function"===typeof t&&(n=t,t={});var a={};function o(e){var n=e._attachments,a=n&&Object.keys(n);if(n&&a.length)return function(e,t){return new Promise((function(n,r){var a,o=0,i=0,c=0,s=e.length;function u(){++c===s?a?r(a):n():d()}function f(){o--,u()}function l(e){o--,a=a||e,u()}function d(){for(;o<t&&i<s;)o++,e[i++]().then(f,l)}d()}))}(a.map((function(a){return function(){return function(a){var o=n[a],i=m(e._id)+"/"+S(a)+"?rev="+e._rev;return P(y(r,i)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){Object(s.e)(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(a)}})),5)}(t=Object(c.e)(t)).revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.latest&&(a.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),t.update_seq&&(a.update_seq=t.update_seq),e=m(e),k(y(r,e+_(a))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),n.remove=j("remove",(function(e,t,n,a){var o;"string"===typeof t?(o={_id:e,_rev:t},"function"===typeof n&&(a=n,n={})):(o=e,"function"===typeof t?(a=t,n={}):(a=n,n=t));var i=o._rev||n.rev;k(y(r,m(o._id))+"?rev="+i,{method:"DELETE"},a).catch(a)})),n.getAttachment=j("getAttachment",(function(e,t,n,a){"function"===typeof n&&(a=n,n={});var o=n.rev?"?rev="+n.rev:"",i=y(r,m(e))+"/"+S(t)+o;P(i,{method:"GET"}).then((function(e){if(e.headers.get("content-type"),e.ok)return e.blob();throw e})).then((function(e){a(null,e)})).catch((function(e){a(e)}))})),n.removeAttachment=j("removeAttachment",(function(e,t,n,a){k(y(r,m(e)+"/"+S(t))+"?rev="+n,{method:"DELETE"},a).catch(a)})),n.putAttachment=j("putAttachment",(function(e,t,n,a,c,u){"function"===typeof c&&(u=c,c=a,a=n,n=null);var f=m(e)+"/"+S(t),l=y(r,f);if(n&&(l+="?rev="+n),"string"===typeof a){var d;try{d=Object(s.a)(a)}catch(p){return u(Object(i.p)(i.a,"Attachment is not a valid base64 string"))}a=d?Object(s.c)(d,c):""}k(l,{headers:new o.b({"Content-Type":c}),method:"PUT",body:a},u).catch(u)})),n._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,C().then((function(){return Promise.all(e.docs.map(b))})).then((function(){return k(y(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},n._put=function(e,t,n){C().then((function(){return b(e)})).then((function(){return k(y(r,m(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},n.allDocs=j("allDocs",(function(e,t){"function"===typeof e&&(t=e,e={});var n,a={},o="GET";(e=Object(c.e)(e)).conflicts&&(a.conflicts=!0),e.update_seq&&(a.update_seq=!0),e.descending&&(a.descending=!0),e.include_docs&&(a.include_docs=!0),e.attachments&&(a.attachments=!0),e.key&&(a.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(a.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(a.endkey=JSON.stringify(e.endkey)),"undefined"!==typeof e.inclusive_end&&(a.inclusive_end=!!e.inclusive_end),"undefined"!==typeof e.limit&&(a.limit=e.limit),"undefined"!==typeof e.skip&&(a.skip=e.skip);var i=_(a);"undefined"!==typeof e.keys&&(o="POST",n={keys:e.keys}),k(y(r,"_all_docs"+i),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(h),t(null,n.data)})).catch(t)})),n._changes=function(e){var t="batch_size"in e?e.batch_size:u;!(e=Object(c.e)(e)).continuous||"heartbeat"in e||(e.heartbeat=d);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<l&&(n=e.timeout+l),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<l&&(n=e.heartbeat+l);var a={};"timeout"in e&&e.timeout&&(a.timeout=e.timeout);var i="undefined"!==typeof e.limit&&e.limit,s=i;if(e.style&&(a.style=e.style),(e.include_docs||e.filter&&"function"===typeof e.filter)&&(a.include_docs=!0),e.attachments&&(a.attachments=!0),e.continuous&&(a.feed="longpoll"),e.seq_interval&&(a.seq_interval=e.seq_interval),e.conflicts&&(a.conflicts=!0),e.descending&&(a.descending=!0),e.update_seq&&(a.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(a.heartbeat=e.heartbeat),e.filter&&"string"===typeof e.filter&&(a.filter=e.filter),e.view&&"string"===typeof e.view&&(a.filter="_view",a.view=e.view),e.query_params&&"object"===typeof e.query_params)for(var f in e.query_params)e.query_params.hasOwnProperty(f)&&(a[f]=e.query_params[f]);var p,m="GET";e.doc_ids?(a.filter="_doc_ids",m="POST",p={doc_ids:e.doc_ids}):e.selector&&(a.filter="_selector",m="POST",p={selector:e.selector});var b,v=new o.a,g=function(n,o){if(!e.aborted){a.since=n,"object"===typeof a.since&&(a.since=JSON.stringify(a.since)),e.descending?i&&(a.limit=s):a.limit=!i||s>t?t:s;var c=y(r,"_changes"+_(a)),u={signal:v.signal,method:m,body:JSON.stringify(p)};b=n,e.aborted||C().then((function(){return k(c,u,o)})).catch(o)}},w={results:[]},O=function(n,r){if(!e.aborted){var a=0;if(r&&r.results){a=r.results.length,w.last_seq=r.last_seq;var o=null,u=null;"number"===typeof r.pending&&(o=r.pending),"string"!==typeof w.last_seq&&"number"!==typeof w.last_seq||(u=w.last_seq);e.query_params,r.results=r.results.filter((function(t){s--;var n=Object(c.h)(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&h(t),e.return_docs&&w.results.push(t),e.onChange(t,o,u)),n}))}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(b=r.last_seq);var f=i&&s<=0||r&&a<t||e.descending;(!e.continuous||i&&s<=0)&&f?e.complete(null,w):Object(c.o)((function(){g(b,O)}))}};return g(e.since||0,O),{cancel:function(){e.aborted=!0,v.abort()}}},n.revsDiff=j("revsDiff",(function(e,t,n){"function"===typeof t&&(n=t,t={}),k(y(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),n._close=function(e){e()},n._destroy=function(e,t){k(y(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}w.valid=function(){return!0},t.default=function(e){e.adapter("http",w,!1),e.adapter("https",w,!1)}}.call(this,n("8oxB"))},o0o1:function(e,t,n){e.exports=n("ls82")},xSPK:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.default=o}},[["CDKq",2,1,0,3,4,6]]]);